<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NsiAssitant</title>

    <!--Bootsrap-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- bootstrap logo -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <!---Fon-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,600;1,600&display=swap"
      rel="stylesheet"
    />

    <!-- Feater-icon -->
    <script src="https://unpkg.com/feather-icons"></script>
    <!-- Feater-icon -->

    <!-- Style local -->
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="responsif.css" />
    <!-- style local -->

    <!-- AOS -->
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <!-- AOS -->
  </head>

  <body>
    <!-- start navbar -->
    <nav
      class="navbar navbar-expand-lg fixed-top p-3 mb-3 bg-body-transparent bg-white border-bottom border-warning"
    >
      <div class="container-fluid">
        <!-- class container agar ketengah -->
        <a class="navbar-brand fw-bold text-secondary d-lg-flex d-none" href="#"
          ><img src="logo.png" width="150px" alt=""
        /></a>

        <!-- jika d-lg-flex maka hanya muncul pada layar lebar selain itu d-none -->

        <!-- start humburger -->
        <h6 class="justify-content-start fs-6 fst-italic">Divas Assitant</h6>
        <button
          class="navbar-toggler bg-secondary border border-3 rounded border-seconday-subtle"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasNavbar"
          aria-controls="offcanvasNavbar"
          aria-label="Toggle navigation"
        >
          <div class="">
            <i class="bi bi-list text-bg-secondary"></i>
          </div>
        </button>
        <!-- end humburger -->

        <!-- start canvas collaps -->
        <div
          class="offcanvas offcanvas-start w-75 bg-white"
          tabindex="-1"
          id="offcanvasNavbar"
          aria-labelledby="offcanvasNavbarLabel"
        >
          <!-- start header canvas collaps -->
          <div class="offcanvas-header border-bottom border-warning">
            <h5 class="offcanvas-title" id="offcanvasNavbarLabel">
              <h5>NSIA Assitant</h5>
            </h5>
            <button
              type="button"
              class="btn-close bg-danger"
              data-bs-dismiss="offcanvas"
              aria-label="Close"
            ></button>
          </div>
          <!-- end header canvas collaps -->

          <!-- start collaps conten -->
          <div class="offcanvas-body mx-lg-auto col-lg-4">
            <!-- mx-lg-auto untuk tulisan ke tengah secara otomatis saat layar lg -->

            <ul
              id="navbar"
              class="navbar-nav justify-content-start flex-grow-1 pe-3 d-lg-flex d-md-block"
            >
              <!-- mx-lg-auto aga tulisan nav ke tengah -->
              <!-- pake d-block agar sejajar -->
              <li class="nav-item me-3">
                <a
                  class="nav-link active d-md-block"
                  aria-current="page"
                  href="#"
                >
                  <h4>
                    <i class="bi bi-house me-1 d-lg-none fs-3 me-3"></i>Home
                  </h4>
                </a>
                <!-- akan hilang pada layar besar -->
              </li>

              <li class="nav-item me-4">
                <h4>
                  <a
                    class="nav-link d-md-block"
                    aria-current="page"
                    href="#profil"
                  >
                    <i class="bi bi-person-square me-1 d-lg-none fs-3 me-3"></i
                    >Divas Assitant</a
                  >
                </h4>

                <!-- akan hilang pada layar besar -->
              </li>

              <li class="nav-item me-4">
                <h4>
                  <a
                    class="nav-link d-md-block"
                    aria-current="page"
                    href="#about"
                  >
                    <i class="bi bi-backpack2 me-1 d-lg-none fs-3 me-3"></i
                    >About</a
                  >
                </h4>
                <!-- akan hilang pada layar besar -->
              </li>
              <h4>
                <li class="nav-item me-4">
                  <a
                    class="nav-link d-md-block"
                    aria-current="page"
                    href="#form"
                  >
                    <i class="bi bi-telephone-plus me-1 d-lg-none fs-3 me-3"></i
                    >Kontak</a
                  >
                  <!-- akan hilang pada layar besar -->
                </li>
              </h4>
            </ul>
            <!-- end content -->
          </div>
        </div>
        <!-- end canvas collaps -->
      </div>
    </nav>
    <!-- end navbar -->
    <!-- data-aos="fade-up"
    data-aos-delay="20"
    data-aos-duration="1000" -->
    <section id="form">
      <div class="container justify-content-center form-custom">
        <div class="row justify-content-center">
          <div class="col-lg-4 col-md-6 card-custom">
            <!--  -->
            <!-- <h2 class="text-center p-3 border-bottom border-warning mb-4">
              Divas Score
            </h2> -->

            <!-- alerts info submit -->
            <div
              class="alert alert-success text-center d-none alert-dismissible fade show"
              role="alert"
            >
              <strong>Terimakasi!</strong><br />
              pesan anda sudah kami terima.ğŸš€
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="alert"
                aria-label="Close"
              ></button>
            </div>
            <!-- alerts info submit -->

            <!-- start form -->
            <form name="submit-sheet" onsubmit="hitungPivas(event)">
              <!-- start essay 1-->
              <div class="mb-1 mt-2">
                <h6 for="name" class="form-label">Nama lengkap</h6>
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  aria-describedby="name"
                  name="nama"
                  autocomplete="off"
                  required
                />
              </div>
              <!-- end essay 1 -->
              <!-- start essay 2 -->
              <div class="mb-1">
                <h6 for="asalRuangan" class="form-label">NIK</h6>
                <input
                  type="number"
                  class="form-control"
                  id="asalRuangan"
                  aria-describedby="asalRuangan"
                  name="nik"
                  autocomplete="off"
                  required
                />
              </div>
              <!-- end essay 2 -->

              <!-- end essay 3 -->
              <div class="mb-1">
                <h6 for="asalRuangan" class="form-label">Asal Ruangan</h6>
                <input
                  type="text"
                  class="form-control"
                  id="asalRuangan"
                  aria-describedby="asalRuangan"
                  name="asal-ruangan"
                  autocomplete="off"
                  required
                />
              </div>
              <!-- end essay 3 -->

              <!-- param1 -->
              <h6 class="opacity-100">Penampakan vena :</h6>
              <select
                name="penampakan-vena"
                size="sm"
                class="mb-3 form-select"
                aria-label="Default select example"
                id="venaTampak"
              >
                <option value="0">Banyak vena yang tampak</option>
                <option value="1">Sedikit vena yang tampak</option>
                <option value="2">Tidak ada vena yang tampak</option>
              </select>
              <!-- param 1 -->
              <!-- param2 -->
              <h6 className="opacity-100">Vena teraba :</h6>
              <select
                `
                name="vena-teraba"
                size="sm"
                class="mb-3 form-select"
                aria-label="Default select example"
                id="venaTeraba"
              >
                <option value="0">Banyak vena yang teraba</option>
                <option value="1">Sedikit vena yang teraba</option>
                <option value="2">Tidak ada vena yang teraba</option>
              </select>
              <!-- param2 -->
              <!-- param 3  -->
              <h6 class="opacity-100">Riwayat infus sulit :</h6>
              <select
                name="riwayat-infus-sulit"
                size="sm"
                class="mb-1 form-select"
                aria-label="Default select example"
                id="sulitInfus"
              >
                <option value="0">Tidak ada</option>
                <option value="1">Dilaporkan beberapa kali</option>
                <option value="2">Infus sulit</option>
              </select>
              <!-- param 3 -->
              <!-- param 4 -->
              <h6 class="opacity-100 mt-2">Faktor tambahan :</h6>
              <select
                name="faktor-tambahan"
                size="sm"
                class="mb-2 form-select"
                aria-label="Default select example"
                id="faktor"
              >
                <option value="0">Tidak ada</option>
                <option value="1">
                  Pasien anak, adanya kesulitan dan kebutuhan akses mendesak
                  (urgent)
                </option>
                <option value="2">Penyakit dan kebutuhan emergency</option>
              </select>
              <!-- param 4  -->

              <!-- btn submt -->
              <button
                type="submit"
                href="submit"
                class="btn btn-primary mb-5 text-center w-100 btn-kirim"
              >
                Submit
              </button>
              <!-- btn submit -->
              <!-- btn load submit -->
              <button
                class="d-none btn btn-primary mb-5 btn-custom w-100 btn-loading"
                type="button"
                disabled
              >
                <span
                  class="spinner-border spinner-border-sm mx-2 mt-1"
                  aria-hidden="true"
                ></span>
                <span role="status">Loading...</span>
              </button>
              <!-- btn load submit -->

              <div id="cardHasil" style="margin-top: -2rem" class="pt-2 mb-5">
                <p
                  id="hasilSkor"
                  class="text-center w-auto fs-5"
                  style="margin-bottom: -0.2rem"
                >
                  Hasil:
                </p>
                <p
                  id="kategori"
                  class="text-center w-auto fs-6"
                  style="margin-bottom: 0.5rem"
                ></p>

                <!-- start modal 1 -->
                <p
                  type="button"
                  data-bs-toggle="modal"
                  data-bs-target="#exampleModal1"
                  id="advice1"
                  class="d-none btn btn-primary text-center w-25 btn-info-custom"
                >
                  Advice
                </p>
                <!-- end modal 1 -->
                <!-- start modal 2 -->
                <p
                  type="button"
                  data-bs-toggle="modal"
                  data-bs-target="#exampleModal2"
                  id="advice2"
                  class="d-none btn btn-primary w-25 mx-auto"
                >
                  advice
                </p>
                <!-- end modal 2 -->
                <!-- start modal 3 -->
                <p
                  type="button"
                  data-bs-toggle="modal"
                  data-bs-target="#exampleModal3"
                  id="advice3"
                  class="d-none btn btn-primary w-25 mx-auto"
                >
                  Advice
                </p>
                <!-- end modal 3 -->
              </div>

              <!-- Modal 1-->
              <div
                class="modal fade"
                id="exampleModal1"
                tabindex="-1"
                aria-labelledby="exampleModalLabel"
                aria-hidden="true"
              >
                <div class="modal-dialog modal-dialog-centered">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title fs-5" id="exampleModalLabel">
                        Rendah
                      </h1>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div class="modal-body">
                      Tindakan: Lakukan pemasangan IV kateter
                    </div>
                    <div class="modal-footer">
                      <button
                        type="button"
                        class="btn btn-secondary"
                        data-bs-dismiss="modal"
                      >
                        Close
                      </button>
                      <!-- <button type="button" class="btn btn-primary">
                        Save changes
                      </button> -->
                    </div>
                  </div>
                </div>
              </div>
              <!-- modal 1 -->
              <!-- Modal 2-->
              <div
                class="modal fade"
                id="exampleModal2"
                tabindex="-1"
                aria-labelledby="exampleModalLabel"
                aria-hidden="true"
              >
                <div class="modal-dialog modal-dialog-centered">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title fs-5" id="exampleModalLabel">
                        Sedang
                      </h1>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div class="modal-body">
                      Tindakan: Pemasangan akses diberikan kepada petugas yang
                      lebih kompeten. Konsul ke tim Infus atau Spesialis akses
                      vaskular.
                    </div>
                    <div class="modal-footer">
                      <button
                        type="button"
                        class="btn btn-secondary"
                        data-bs-dismiss="modal"
                      >
                        Close
                      </button>
                      <!-- <button type="button" class="btn btn-primary">
                        Save changes
                      </button> -->
                    </div>
                  </div>
                </div>
              </div>
              <!-- modal 2 -->
              <!-- Modal 3-->
              <div
                class="modal fade"
                id="exampleModal3"
                tabindex="-1"
                aria-labelledby="exampleModalLabel3"
                aria-hidden="true"
              >
                <div class="modal-dialog modal-dialog-centered">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title fs-5" id="exampleModalLabel">
                        tinggi
                      </h1>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div class="modal-body">
                      Tindakan: Pertimbangkan pemasangan akses emergency (CVC,
                      IO). Konsul Spesialis akses vaskular.
                    </div>
                    <div class="modal-footer">
                      <button
                        type="button"
                        class="btn btn-secondary"
                        data-bs-dismiss="modal"
                      >
                        Close
                      </button>
                      <!-- <button type="button" class="btn btn-primary">
                        Save changes
                      </button> -->
                    </div>
                  </div>
                </div>
              </div>
              <!-- modal 3 -->
              <!-- end info box modal -->
            </form>
            <!-- end form -->
          </div>
        </div>
      </div>
    </section>
  </body>

  <!-- script -->
  <script
    src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
    integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
    crossorigin="anonymous"
  ></script>

  <!-- script -->
  <!-- script local -->
  <script src="script.js"></script>
  <!-- end script local -->
  <!-- AOS -->
  <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
  <script>
    AOS.init({
      once: true,
    });
  </script>
  <!-- AOS -->

  <!-- kontak form -->
  <script>
    const scriptURL =
      "https://script.google.com/macros/s/AKfycbxoPpG2GzYOA8erWLMh9ZsOs0mrjNJVIgixZBC_8xRnwk162el1Jqsh2T9Vpz717pjIBw/exec";
    const form = document.forms["submit-sheet"];
    const btnKirim = document.querySelector(".btn-kirim");
    const btnLoading = document.querySelector(".btn-loading");
    const alert = document.querySelector(".alert");

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      // ketika btn-kirim di klik
      // tampilkan tombol loadaing dan hilangkan tombol kirim

      btnLoading.classList.toggle("d-none");
      // js mintol carikan di didalam list class btn-lodaing apakah ada d-none?, kalau ada hilangkan ya tapi kalau tidak ada di kasih ya.
      btnKirim.classList.toggle("d-none");

      fetch(scriptURL, { method: "POST", body: new FormData(form) })
        .then((response) => {
          // tampilkana btn kirim lalu hilangkan tombol loadaing
          btnLoading.classList.toggle("d-none");
          btnKirim.classList.toggle("d-none");
          // tampilkan alert
          alert.classList.toggle("d-none");
          // reset isi form

          // tampilkan modal info-

          // end tampilan modal info-custom

          form.reset();

          console.log("Success!", response);
        })
        .catch((error) => console.error("Error!", error.message));
    });
    // funtion validasi
  </script>
  <!-- kontak form -->

  <script>
    // form
    function hitungPivas(e) {
      e.preventDefault(); // ini mencegah reload
      const venaTampak = parseInt(document.getElementById("venaTampak").value);
      const venaTeraba = parseInt(document.getElementById("venaTeraba").value);
      const sulitInfus = parseInt(document.getElementById("sulitInfus").value);
      const faktor = parseInt(document.getElementById("faktor").value);

      const totalPivas = venaTampak + venaTeraba + sulitInfus + faktor;

      let kategori = "";
      let card = document.getElementById("cardHasil");
      let box1 = document.getElementById("advice1");
      let box2 = document.getElementById("advice2");
      let box3 = document.getElementById("advice3");

      if (totalPivas <= 3) {
        kategori = "rendah";
        card.className =
          "card p-3 mb-3 border border-success bg-success-subtle text-center text-success-emphasis";
        box1.className =
          "btn border-secondary  border btn-success mx-auto w-50";
        box2.className = " d-none btn btn-primary mx-auto w-20";
        box3.className = "d-none btn btn-primary mx-auto w-20";
      } else if (totalPivas <= 5) {
        kategori = "sedang";
        card.className =
          "card p-3 mb-3 border border-warning bg-warning-subtle text-success-emphasis";
        box2.className = "btn border border-secondary btn-warning mx-auto w-50";
        box1.className = " d-none btn btn-primary mx-auto w-25";
        box3.className = "d-none btn btn-primary mx-auto w-25";
      } else {
        kategori = "tinggi";
        card.className =
          "card p-3 mb-3 border border-danger bg-danger-subtle text-success-emphasis";
        box3.className = "btn border-secondary btn-danger mx-auto w-50";
        box1.className = " d-none btn btn-primary mx-auto w-25";
        box2.className = "d-none btn btn-primary mx-auto w-25";
      }

      document.getElementById("hasilSkor").innerHTML =
        "Total Skor : " + totalPivas;
      document.getElementById("kategori").innerText = "Kategori: " + kategori;
    }
    // end form
  </script>
</html>
